<template>
    <lightning-card title="Opportunité produits" icon-name="standard:product">
        <!-- Message d'avertissement -->
        <template if:true={hasQuantityIssue}>
            <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_warning" role="alert">
                <span class="slds-assistive-text">Warning</span>
                <h2>
                    Vous avez au moins un produit avec un problème de quantité. Veuillez supprimer cette ligne ou réduire la quantité. Si vous avez absolument besoin de plus de produits, veuillez contacter votre administrateur système.
                </h2>
            </div>
        </template>
        <template if:true={products}>
            <lightning-datatable
                    data={products}
                    columns={columns}
                    key-field="Id"
                    onrowaction={callRowAction}>
            </lightning-datatable>
        </template>
        <template if:false={products}>
            <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info" role="alert">
                <span class="slds-assistive-text">Info</span>
                <h2>
                    Vous n'avez aucune ligne de produits pour le moment.
                </h2>
                <p>1. Veuillez tout d'abord sélectionner un Catalogue (Pricebook).</p>
                <p>2. Sélectionnez ensuite les produits à ajouter.</p>
            </div>
        </template>
    </lightning-card>
</template>
